$id: https://grant.duyet.net/validator-schema.json
$schema: http://json-schema.org/draft-07/schema
additionalProperties: true
default: {}
description: The root schema comprises the entire JSON document.
examples:
-   roles:
    -   databases:
        - db1
        - db2
        grant:
        - CREATE | TEMPORARY | TEMP
        - ALL | *
        level: DATABASE
        name: role_database_level
    -   databases:
        - db1
        - db2
        grant:
        - CREATE | USAGE
        - ALL | *
        level: SCHEMA
        name: role_schema_level
        schemas:
        - common
        - public
    -   databases:
        - db1
        - db2
        grant:
        - SELECT | INSERT | UPDATE | DELETE | DROP | REFERENCES
        - ALL | *
        level: TABLE
        name: role_table_level
        schemas:
        - common
        - public
        tables:
        -   - table_name
        - ALL TABLES | *
    -   databases:
        - db1
        - db2
        functions:
        -   - table_name
        - ALL FUNCTIONS | ALL PROCEDURES
        grant:
        - EXECUTE
        - ALL | *
        level: FUNCTION_OR_PROCEDURE
        name: role_function_or_proc_level
        schemas:
        - common
        - public
    -   grant:
        - USAGE | *
        languages:
        - language_name
        - language_name
        level: LANGUAGE
        name: role_language_level
    users:
    -   name: duyet
        password: 123456 | base64
        roles:
        -   name: role_database_level
        -   name: role_schema_level
        -   name: role_table_level
    -   name: data_studio_ru
        password: 123456 | base64
        roles:
        -   name: role_table_level
            overwrite:
                except_tables:
                - table_xxx
                tables:
                - table1
                - table2
                - table3
properties:
    roles:
        $id: '#/properties/roles'
        additionalItems: true
        default: []
        description: An explanation about the purpose of this instance.
        examples:
        -   -   databases:
                - db1
                - db2
                grant:
                - CREATE | TEMPORARY | TEMP
                - ALL | *
                level: DATABASE
                name: role_database_level
            -   databases:
                - db1
                - db2
                grant:
                - CREATE | USAGE
                - ALL | *
                level: SCHEMA
                name: role_schema_level
                schemas:
                - common
                - public
        items:
            $id: '#/properties/roles/items'
            anyOf:
            -   $id: '#/properties/roles/items/anyOf/0'
                additionalProperties: true
                default: {}
                description: An explanation about the purpose of this instance.
                examples:
                -   databases:
                    - db1
                    - db2
                    grant:
                    - CREATE | TEMPORARY | TEMP
                    - ALL | *
                    level: DATABASE
                    name: role_database_level
                properties:
                    databases:
                        $id: '#/properties/roles/items/anyOf/0/properties/databases'
                        additionalItems: true
                        default: []
                        description: An explanation about the purpose of this instance.
                        examples:
                        -   - db1
                            - db2
                        items:
                            $id: '#/properties/roles/items/anyOf/0/properties/databases/items'
                            anyOf:
                            -   $id: '#/properties/roles/items/anyOf/0/properties/databases/items/anyOf/0'
                                default: ''
                                description: An explanation about the purpose of this
                                    instance.
                                examples:
                                - db1
                                - db2
                                title: The first anyOf schema
                                type: string
                        title: The databases schema
                        type: array
                    grant:
                        $id: '#/properties/roles/items/anyOf/0/properties/grant'
                        additionalItems: true
                        default: []
                        description: An explanation about the purpose of this instance.
                        examples:
                        -   - CREATE | TEMPORARY | TEMP
                            - ALL | *
                        items:
                            $id: '#/properties/roles/items/anyOf/0/properties/grant/items'
                            anyOf:
                            -   $id: '#/properties/roles/items/anyOf/0/properties/grant/items/anyOf/0'
                                default: ''
                                description: An explanation about the purpose of this
                                    instance.
                                examples:
                                - CREATE | TEMPORARY | TEMP
                                - ALL | *
                                title: The first anyOf schema
                                type: string
                        title: The grant schema
                        type: array
                    level:
                        $id: '#/properties/roles/items/anyOf/0/properties/level'
                        default: ''
                        description: An explanation about the purpose of this instance.
                        examples:
                        - DATABASE
                        title: The level schema
                        type: string
                    name:
                        $id: '#/properties/roles/items/anyOf/0/properties/name'
                        default: ''
                        description: An explanation about the purpose of this instance.
                        examples:
                        - role_database_level
                        title: The name schema
                        type: string
                required:
                - name
                - level
                - grant
                - databases
                title: The first anyOf schema
                type: object
            -   $id: '#/properties/roles/items/anyOf/1'
                additionalProperties: true
                default: {}
                description: An explanation about the purpose of this instance.
                examples:
                -   databases:
                    - db1
                    - db2
                    grant:
                    - CREATE | USAGE
                    - ALL | *
                    level: SCHEMA
                    name: role_schema_level
                    schemas:
                    - common
                    - public
                properties:
                    databases:
                        $id: '#/properties/roles/items/anyOf/1/properties/databases'
                        additionalItems: true
                        default: []
                        description: An explanation about the purpose of this instance.
                        examples:
                        -   - db1
                            - db2
                        items:
                            $id: '#/properties/roles/items/anyOf/1/properties/databases/items'
                            anyOf:
                            -   $id: '#/properties/roles/items/anyOf/1/properties/databases/items/anyOf/0'
                                default: ''
                                description: An explanation about the purpose of this
                                    instance.
                                examples:
                                - db1
                                - db2
                                title: The first anyOf schema
                                type: string
                        title: The databases schema
                        type: array
                    grant:
                        $id: '#/properties/roles/items/anyOf/1/properties/grant'
                        additionalItems: true
                        default: []
                        description: An explanation about the purpose of this instance.
                        examples:
                        -   - CREATE | USAGE
                            - ALL | *
                        items:
                            $id: '#/properties/roles/items/anyOf/1/properties/grant/items'
                            anyOf:
                            -   $id: '#/properties/roles/items/anyOf/1/properties/grant/items/anyOf/0'
                                default: ''
                                description: An explanation about the purpose of this
                                    instance.
                                examples:
                                - CREATE | USAGE
                                - ALL | *
                                title: The first anyOf schema
                                type: string
                        title: The grant schema
                        type: array
                    level:
                        $id: '#/properties/roles/items/anyOf/1/properties/level'
                        default: ''
                        description: An explanation about the purpose of this instance.
                        examples:
                        - SCHEMA
                        title: The level schema
                        type: string
                    name:
                        $id: '#/properties/roles/items/anyOf/1/properties/name'
                        default: ''
                        description: An explanation about the purpose of this instance.
                        examples:
                        - role_schema_level
                        title: The name schema
                        type: string
                    schemas:
                        $id: '#/properties/roles/items/anyOf/1/properties/schemas'
                        additionalItems: true
                        default: []
                        description: An explanation about the purpose of this instance.
                        examples:
                        -   - common
                            - public
                        items:
                            $id: '#/properties/roles/items/anyOf/1/properties/schemas/items'
                            anyOf:
                            -   $id: '#/properties/roles/items/anyOf/1/properties/schemas/items/anyOf/0'
                                default: ''
                                description: An explanation about the purpose of this
                                    instance.
                                examples:
                                - common
                                - public
                                title: The first anyOf schema
                                type: string
                        title: The schemas schema
                        type: array
                required:
                - name
                - level
                - grant
                - databases
                - schemas
                title: The second anyOf schema
                type: object
            -   $id: '#/properties/roles/items/anyOf/2'
                additionalProperties: true
                default: {}
                description: An explanation about the purpose of this instance.
                examples:
                -   databases:
                    - db1
                    - db2
                    grant:
                    - SELECT | INSERT | UPDATE | DELETE | DROP | REFERENCES
                    - ALL | *
                    level: TABLE
                    name: role_table_level
                    schemas:
                    - common
                    - public
                    tables:
                    -   - table_name
                    - ALL TABLES | *
                properties:
                    databases:
                        $id: '#/properties/roles/items/anyOf/2/properties/databases'
                        additionalItems: true
                        default: []
                        description: An explanation about the purpose of this instance.
                        examples:
                        -   - db1
                            - db2
                        items:
                            $id: '#/properties/roles/items/anyOf/2/properties/databases/items'
                            anyOf:
                            -   $id: '#/properties/roles/items/anyOf/2/properties/databases/items/anyOf/0'
                                default: ''
                                description: An explanation about the purpose of this
                                    instance.
                                examples:
                                - db1
                                - db2
                                title: The first anyOf schema
                                type: string
                        title: The databases schema
                        type: array
                    grant:
                        $id: '#/properties/roles/items/anyOf/2/properties/grant'
                        additionalItems: true
                        default: []
                        description: An explanation about the purpose of this instance.
                        examples:
                        -   - SELECT | INSERT | UPDATE | DELETE | DROP | REFERENCES
                            - ALL | *
                        items:
                            $id: '#/properties/roles/items/anyOf/2/properties/grant/items'
                            anyOf:
                            -   $id: '#/properties/roles/items/anyOf/2/properties/grant/items/anyOf/0'
                                default: ''
                                description: An explanation about the purpose of this
                                    instance.
                                examples:
                                - SELECT | INSERT | UPDATE | DELETE | DROP | REFERENCES
                                - ALL | *
                                title: The first anyOf schema
                                type: string
                        title: The grant schema
                        type: array
                    level:
                        $id: '#/properties/roles/items/anyOf/2/properties/level'
                        default: ''
                        description: An explanation about the purpose of this instance.
                        examples:
                        - TABLE
                        title: The level schema
                        type: string
                    name:
                        $id: '#/properties/roles/items/anyOf/2/properties/name'
                        default: ''
                        description: An explanation about the purpose of this instance.
                        examples:
                        - role_table_level
                        title: The name schema
                        type: string
                    schemas:
                        $id: '#/properties/roles/items/anyOf/2/properties/schemas'
                        additionalItems: true
                        default: []
                        description: An explanation about the purpose of this instance.
                        examples:
                        -   - common
                            - public
                        items:
                            $id: '#/properties/roles/items/anyOf/2/properties/schemas/items'
                            anyOf:
                            -   $id: '#/properties/roles/items/anyOf/2/properties/schemas/items/anyOf/0'
                                default: ''
                                description: An explanation about the purpose of this
                                    instance.
                                examples:
                                - common
                                - public
                                title: The first anyOf schema
                                type: string
                        title: The schemas schema
                        type: array
                    tables:
                        $id: '#/properties/roles/items/anyOf/2/properties/tables'
                        additionalItems: true
                        default: []
                        description: An explanation about the purpose of this instance.
                        examples:
                        -   -   - table_name
                            - ALL TABLES | *
                        items:
                            $id: '#/properties/roles/items/anyOf/2/properties/tables/items'
                            anyOf:
                            -   $id: '#/properties/roles/items/anyOf/2/properties/tables/items/anyOf/0'
                                additionalItems: true
                                default: []
                                description: An explanation about the purpose of this
                                    instance.
                                examples:
                                -   - table_name
                                items:
                                    $id: '#/properties/roles/items/anyOf/2/properties/tables/items/anyOf/0/items'
                                    anyOf:
                                    -   $id: '#/properties/roles/items/anyOf/2/properties/tables/items/anyOf/0/items/anyOf/0'
                                        default: ''
                                        description: An explanation about the purpose
                                            of this instance.
                                        examples:
                                        - table_name
                                        title: The first anyOf schema
                                        type: string
                                title: The first anyOf schema
                                type: array
                            -   $id: '#/properties/roles/items/anyOf/2/properties/tables/items/anyOf/1'
                                default: ''
                                description: An explanation about the purpose of this
                                    instance.
                                examples:
                                - ALL TABLES | *
                                title: The second anyOf schema
                                type: string
                        title: The tables schema
                        type: array
                required:
                - name
                - level
                - grant
                - databases
                - schemas
                - tables
                title: The third anyOf schema
                type: object
            -   $id: '#/properties/roles/items/anyOf/3'
                additionalProperties: true
                default: {}
                description: An explanation about the purpose of this instance.
                examples:
                -   databases:
                    - db1
                    - db2
                    functions:
                    -   - table_name
                    - ALL FUNCTIONS | ALL PROCEDURES
                    grant:
                    - EXECUTE
                    - ALL | *
                    level: FUNCTION_OR_PROCEDURE
                    name: role_function_or_proc_level
                    schemas:
                    - common
                    - public
                properties:
                    databases:
                        $id: '#/properties/roles/items/anyOf/3/properties/databases'
                        additionalItems: true
                        default: []
                        description: An explanation about the purpose of this instance.
                        examples:
                        -   - db1
                            - db2
                        items:
                            $id: '#/properties/roles/items/anyOf/3/properties/databases/items'
                            anyOf:
                            -   $id: '#/properties/roles/items/anyOf/3/properties/databases/items/anyOf/0'
                                default: ''
                                description: An explanation about the purpose of this
                                    instance.
                                examples:
                                - db1
                                - db2
                                title: The first anyOf schema
                                type: string
                        title: The databases schema
                        type: array
                    functions:
                        $id: '#/properties/roles/items/anyOf/3/properties/functions'
                        additionalItems: true
                        default: []
                        description: An explanation about the purpose of this instance.
                        examples:
                        -   -   - table_name
                            - ALL FUNCTIONS | ALL PROCEDURES
                        items:
                            $id: '#/properties/roles/items/anyOf/3/properties/functions/items'
                            anyOf:
                            -   $id: '#/properties/roles/items/anyOf/3/properties/functions/items/anyOf/0'
                                additionalItems: true
                                default: []
                                description: An explanation about the purpose of this
                                    instance.
                                examples:
                                -   - table_name
                                items:
                                    $id: '#/properties/roles/items/anyOf/3/properties/functions/items/anyOf/0/items'
                                    anyOf:
                                    -   $id: '#/properties/roles/items/anyOf/3/properties/functions/items/anyOf/0/items/anyOf/0'
                                        default: ''
                                        description: An explanation about the purpose
                                            of this instance.
                                        examples:
                                        - table_name
                                        title: The first anyOf schema
                                        type: string
                                title: The first anyOf schema
                                type: array
                            -   $id: '#/properties/roles/items/anyOf/3/properties/functions/items/anyOf/1'
                                default: ''
                                description: An explanation about the purpose of this
                                    instance.
                                examples:
                                - ALL FUNCTIONS | ALL PROCEDURES
                                title: The second anyOf schema
                                type: string
                        title: The functions schema
                        type: array
                    grant:
                        $id: '#/properties/roles/items/anyOf/3/properties/grant'
                        additionalItems: true
                        default: []
                        description: An explanation about the purpose of this instance.
                        examples:
                        -   - EXECUTE
                            - ALL | *
                        items:
                            $id: '#/properties/roles/items/anyOf/3/properties/grant/items'
                            anyOf:
                            -   $id: '#/properties/roles/items/anyOf/3/properties/grant/items/anyOf/0'
                                default: ''
                                description: An explanation about the purpose of this
                                    instance.
                                examples:
                                - EXECUTE
                                - ALL | *
                                title: The first anyOf schema
                                type: string
                        title: The grant schema
                        type: array
                    level:
                        $id: '#/properties/roles/items/anyOf/3/properties/level'
                        default: ''
                        description: An explanation about the purpose of this instance.
                        examples:
                        - FUNCTION_OR_PROCEDURE
                        title: The level schema
                        type: string
                    name:
                        $id: '#/properties/roles/items/anyOf/3/properties/name'
                        default: ''
                        description: An explanation about the purpose of this instance.
                        examples:
                        - role_function_or_proc_level
                        title: The name schema
                        type: string
                    schemas:
                        $id: '#/properties/roles/items/anyOf/3/properties/schemas'
                        additionalItems: true
                        default: []
                        description: An explanation about the purpose of this instance.
                        examples:
                        -   - common
                            - public
                        items:
                            $id: '#/properties/roles/items/anyOf/3/properties/schemas/items'
                            anyOf:
                            -   $id: '#/properties/roles/items/anyOf/3/properties/schemas/items/anyOf/0'
                                default: ''
                                description: An explanation about the purpose of this
                                    instance.
                                examples:
                                - common
                                - public
                                title: The first anyOf schema
                                type: string
                        title: The schemas schema
                        type: array
                required:
                - name
                - level
                - grant
                - databases
                - schemas
                - functions
                title: The fourth anyOf schema
                type: object
            -   $id: '#/properties/roles/items/anyOf/4'
                additionalProperties: true
                default: {}
                description: An explanation about the purpose of this instance.
                examples:
                -   grant:
                    - USAGE | *
                    languages:
                    - language_name
                    - language_name
                    level: LANGUAGE
                    name: role_language_level
                properties:
                    grant:
                        $id: '#/properties/roles/items/anyOf/4/properties/grant'
                        additionalItems: true
                        default: []
                        description: An explanation about the purpose of this instance.
                        examples:
                        -   - USAGE | *
                        items:
                            $id: '#/properties/roles/items/anyOf/4/properties/grant/items'
                            anyOf:
                            -   $id: '#/properties/roles/items/anyOf/4/properties/grant/items/anyOf/0'
                                default: ''
                                description: An explanation about the purpose of this
                                    instance.
                                examples:
                                - USAGE | *
                                title: The first anyOf schema
                                type: string
                        title: The grant schema
                        type: array
                    languages:
                        $id: '#/properties/roles/items/anyOf/4/properties/languages'
                        additionalItems: true
                        default: []
                        description: An explanation about the purpose of this instance.
                        examples:
                        -   - language_name
                            - language_name
                        items:
                            $id: '#/properties/roles/items/anyOf/4/properties/languages/items'
                            anyOf:
                            -   $id: '#/properties/roles/items/anyOf/4/properties/languages/items/anyOf/0'
                                default: ''
                                description: An explanation about the purpose of this
                                    instance.
                                examples:
                                - language_name
                                title: The first anyOf schema
                                type: string
                        title: The languages schema
                        type: array
                    level:
                        $id: '#/properties/roles/items/anyOf/4/properties/level'
                        default: ''
                        description: An explanation about the purpose of this instance.
                        examples:
                        - LANGUAGE
                        title: The level schema
                        type: string
                    name:
                        $id: '#/properties/roles/items/anyOf/4/properties/name'
                        default: ''
                        description: An explanation about the purpose of this instance.
                        examples:
                        - role_language_level
                        title: The name schema
                        type: string
                required:
                - name
                - level
                - grant
                - languages
                title: The fifth anyOf schema
                type: object
        title: The roles schema
        type: array
    users:
        $id: '#/properties/users'
        additionalItems: true
        default: []
        description: An explanation about the purpose of this instance.
        examples:
        -   -   name: duyet
                password: 123456 | base64
                roles:
                -   name: role_database_level
                -   name: role_schema_level
                -   name: role_table_level
            -   name: data_studio_ru
                password: 123456 | base64
                roles:
                -   name: role_table_level
                    overwrite:
                        except_tables:
                        - table_xxx
                        tables:
                        - table1
                        - table2
                        - table3
        items:
            $id: '#/properties/users/items'
            anyOf:
            -   $id: '#/properties/users/items/anyOf/0'
                additionalProperties: true
                default: {}
                description: An explanation about the purpose of this instance.
                examples:
                -   name: duyet
                    password: 123456 | base64
                    roles:
                    -   name: role_database_level
                    -   name: role_schema_level
                    -   name: role_table_level
                properties:
                    name:
                        $id: '#/properties/users/items/anyOf/0/properties/name'
                        default: ''
                        description: An explanation about the purpose of this instance.
                        examples:
                        - duyet
                        title: The name schema
                        type: string
                    password:
                        $id: '#/properties/users/items/anyOf/0/properties/password'
                        default: ''
                        description: An explanation about the purpose of this instance.
                        examples:
                        - 123456 | base64
                        title: The password schema
                        type: string
                    roles:
                        $id: '#/properties/users/items/anyOf/0/properties/roles'
                        additionalItems: true
                        default: []
                        description: An explanation about the purpose of this instance.
                        examples:
                        -   -   name: role_database_level
                            -   name: role_schema_level
                        items:
                            $id: '#/properties/users/items/anyOf/0/properties/roles/items'
                            anyOf:
                            -   $id: '#/properties/users/items/anyOf/0/properties/roles/items/anyOf/0'
                                additionalProperties: true
                                default: {}
                                description: An explanation about the purpose of this
                                    instance.
                                examples:
                                -   name: role_database_level
                                properties:
                                    name:
                                        $id: '#/properties/users/items/anyOf/0/properties/roles/items/anyOf/0/properties/name'
                                        default: ''
                                        description: An explanation about the purpose
                                            of this instance.
                                        examples:
                                        - role_database_level
                                        title: The name schema
                                        type: string
                                required:
                                - name
                                title: The first anyOf schema
                                type: object
                        title: The roles schema
                        type: array
                required:
                - name
                - password
                - roles
                title: The first anyOf schema
                type: object
        title: The users schema
        type: array
required:
- roles
- users
title: The root schema
type: object

